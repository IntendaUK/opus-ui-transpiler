{
	"acceptPrps": {},
	"traits": [
		{
			"trait": "shared/button",
			"traitPrps": {
				"icon": "check",
				"cpt": "Ok",
				"color": "orange",
				"prpsContainer": {
					"dir": "horizontal"
				},
				"fireScript": {
					"id": "sMS",
					"actions": [
						{
							"type": "setState",
							"target": "||modal.receiptRepeater||",
							"key": "staticData",
							"value": [
								"{{eval.",
								"  const data = {{state.||modal.receiptRepeater||.staticData}};",
								"  data.push({",
								"    itemName: {{state.||modalMakeSale||.itemName}},",
								"    itemPrice: {{state.||modalMakeSale||.itemPrice}},",
								"    itemQuantity: {{state.||modalMakeSale||.itemQuantity}},",
								"    saleTotal: {{state.||modalMakeSale||.itemPrice}} * {{state.||modalMakeSale||.itemQuantity}}",
								"  });",
								"  data;",
								"}}"
							],
							"inlineKeys": [
								"value"
							]
						},
						{
							"type": "wait",
							"duration": 10
						},
						{
							"type": "setVariable",
							"name": "receiptNumber",
							"value": "{{state.||dataManager||.nextReceipt}}"
						},
						{
							"id": "sMI",
							"type": "morphIterateArray",
							"value": "{{state.||modal.receiptRepeater||.staticData}}",
							"chain": [
								{
									"type": "setState",
									"target": "||dataManager||",
									"key": "tCaptureSale",
									"value": {
										"id": "{{sMI.eval.`s${~~(Math.random() * Number.MAX_SAFE_INTEGER)}`}}",
										"receiptNumber": "{{sMI.scopedVariable.sMS.receiptNumber}}",
										"itemName": "{{sMI.variable.record.itemName}}",
										"itemPrice": "{{sMI.variable.record.itemPrice}}",
										"itemQuantity": "{{sMI.variable.record.itemQuantity}}"
									}
								},
								{
									"type": "wait",
									"duration": 10
								}
							]
						},
						{
							"type": "setState",
							"target": "||dataManager||",
							"key": "nextReceipt",
							"value": "{{eval.{{state.||dataManager||.nextReceipt}} + 1}}"
						},
						{
							"type": "setState",
							"target": "||modalMakeSale||",
							"key": "vis",
							"value": false
						}
					]
				}
			}
		}
	]
}